import React from 'react';
import Svg, { 
  Path, 
  Defs, 
  LinearGradient as SvgLinearGradient, 
  Stop,
  Rect,
  Circle,
  G,
  ClipPath,
  Text as SvgText
} from 'react-native-svg';

interface CompanyLogoProps {
  width?: number;
  height?: number;
  showBackground?: boolean;
  showProgressDots?: boolean;
  activeDotIndex?: number;
  showBusinessText?: boolean;
}

const CompanyLogo: React.FC<CompanyLogoProps> = ({
  width = 375,
  height = 820,
  showBackground = false,
  showProgressDots = false,
  activeDotIndex = 0,
  showBusinessText = true
}) => {
  const logoWidth = showBackground ? width : 185;
  const logoHeight = showBackground ? height : 60;

  const LogoContent = () => (
    <>
      {/* Business Text (above Binyan) */}
      {showBusinessText && (
        <SvgText
          x="130"
          y="10"
          fontSize="12"
          fontWeight="400"
          fill="#C2252C"
          textAnchor="start"
        >
          Business
        </SvgText>
      )}
      
      {/* Main Logo Text */}
      <Path d="M99.4346 40.2041H100.029L108.878 17.7568H115.943L98.4268 59.6826H91.1826L95.9336 48.3359L83.1055 17.7568H90.4707L99.4346 40.2041ZM130.324 16.9248C134.895 16.9249 138.398 18.4682 140.953 22.0322H141.547L142.139 17.7568H148.254V48.3955H142.139L141.547 44.0039H140.953C138.458 47.6238 134.954 49.2284 130.324 49.2285C122.545 49.2285 116.071 43.7082 116.071 33.0791C116.071 22.3894 122.545 16.9248 130.324 16.9248ZM20.1309 6C29.633 6.00016 33.1971 10.9277 33.1973 16.8643C33.1973 21.2608 31.3545 24.8211 26.9023 26.6064V27.1982C32.1867 28.8626 34.3828 32.8992 34.3828 37.5312C34.3828 43.5284 30.8202 48.3964 21.3193 48.3965H0V6H20.1309ZM67 16.9238C76.4422 16.9238 82.2011 21.1404 82.2012 31.2334V48.3965H75.4922V31.2334C75.4922 25.2982 72.3449 22.625 67 22.625C61.6553 22.6251 58.5098 25.5338 58.5098 31.5342V48.3965H51.7979V31.5342C51.7979 21.4365 57.6184 16.9239 67 16.9238ZM169.405 16.9238C178.851 16.9238 184.606 21.1404 184.606 31.2334V48.3965H177.897V31.2334C177.897 25.2982 174.75 22.625 169.405 22.625C164.061 22.6251 160.916 25.5338 160.916 31.5342V48.3965H154.203V31.5342C154.203 21.4365 160.024 16.9239 169.405 16.9238ZM45.8574 48.3955H39.1455V17.7559H45.8574V48.3955ZM132.281 22.5049C126.819 22.5049 122.958 26.1908 122.958 33.0791C122.958 39.9084 126.819 43.6475 132.281 43.6475C137.804 43.6473 141.725 39.8478 141.725 33.0791C141.725 26.2498 137.804 22.505 132.281 22.5049ZM6.8291 42.2793H20.7256C25.4751 42.2793 27.2587 39.4313 27.2588 36.1631C27.2588 32.8995 25.4177 30.2256 20.668 30.2256H6.8291V42.2793ZM6.8291 24.1094H19.8945C24.6457 24.1094 26.368 21.2613 26.3682 17.9932C26.3682 14.7296 24.6459 12.1162 19.8945 12.1162H6.8291V24.1094ZM42.5332 5.22754C44.9073 5.22754 46.6289 6.94757 46.6289 9.32324C46.6287 11.7003 44.9072 13.4199 42.5332 13.4199C40.1562 13.4198 38.4347 11.7002 38.4346 9.32324C38.4346 6.94768 40.1561 5.2277 42.5332 5.22754Z" fill="url(#paint0_linear_736_23956)"/>
      
      {/* Subtitle Text */}
      <Path d="M306.029 23.5274C306.504 23.5274 306.888 23.9116 306.889 24.3858V26.1036C306.889 26.5779 306.504 26.9629 306.029 26.9629H305.171C304.697 26.9629 304.312 26.5779 304.312 26.1036V24.3858C304.312 23.9116 304.697 23.5274 305.171 23.5274H306.029ZM310.037 21.8096C310.511 21.8096 310.895 22.1937 310.896 22.668V26.1036C310.896 26.5779 310.511 26.9629 310.037 26.9629H309.178C308.704 26.9627 308.319 26.5778 308.319 26.1036V22.668C308.319 22.1938 308.704 21.8098 309.178 21.8096H310.037ZM318.055 17.8008C318.529 17.8011 318.913 18.186 318.913 18.6602V26.1036C318.913 26.5778 318.529 26.9627 318.055 26.9629H317.195C316.721 26.9629 316.336 26.5779 316.336 26.1036V18.6602C316.336 18.1858 316.721 17.8008 317.195 17.8008H318.055ZM314.047 19.8047C314.521 19.8049 314.905 20.189 314.905 20.6631V26.1036C314.905 26.5776 314.521 26.9618 314.047 26.962H313.188C312.713 26.9619 312.329 26.5777 312.329 26.1036V20.6631C312.329 20.1889 312.713 19.8048 313.188 19.8047H314.047Z" fill="#1A1B2D"/>
      
      {/* Icon Elements */}
      <Path d="M327.869 24.8878C328.965 23.9612 330.569 23.9612 331.665 24.8878C331.72 24.9377 331.752 25.0079 331.754 25.0822C331.755 25.1564 331.726 25.2283 331.673 25.2804L329.957 27.0118C329.907 27.0624 329.838 27.0909 329.767 27.0909C329.695 27.0908 329.627 27.0623 329.577 27.0118L327.861 25.2804C327.808 25.2283 327.779 25.1564 327.78 25.0822C327.782 25.0079 327.814 24.9376 327.869 24.8878ZM325.579 22.5782C327.94 20.3825 331.596 20.3825 333.956 22.5782C334.009 22.6297 334.039 22.7005 334.04 22.7745C334.041 22.8486 334.012 22.9202 333.96 22.9728L332.968 23.9747C332.866 24.0767 332.7 24.0791 332.596 23.9796C331.821 23.2777 330.812 22.8887 329.767 22.8888C328.722 22.8893 327.714 23.2782 326.939 23.9796C326.835 24.079 326.67 24.0768 326.567 23.9747L325.576 22.9728C325.524 22.9203 325.494 22.8486 325.495 22.7745C325.496 22.7006 325.526 22.6297 325.579 22.5782ZM323.29 20.2745C326.91 16.8053 332.622 16.8053 336.242 20.2745C336.295 20.3261 336.324 20.3973 336.324 20.4708C336.325 20.5442 336.296 20.6151 336.244 20.6671L335.252 21.6691C335.15 21.7719 334.983 21.7732 334.879 21.672C333.5 20.3607 331.67 19.6292 329.767 19.629C327.863 19.629 326.032 20.3605 324.652 21.672C324.549 21.773 324.382 21.7718 324.28 21.6691L323.287 20.6671C323.235 20.6149 323.207 20.5434 323.207 20.4698C323.208 20.3965 323.238 20.3259 323.29 20.2745Z" fill="#1A1B2D"/>
      
      {/* Progress Indicator */}
      <Path opacity="0.35" d="M342.909 17.9444H357.225C358.252 17.9444 359.086 18.7771 359.086 19.8047V24.959C359.086 25.9866 358.252 26.8194 357.225 26.8194H342.909C341.882 26.8191 341.049 25.9865 341.049 24.959V19.8047C341.049 18.7772 341.882 17.9446 342.909 17.9444Z" stroke="#1A1B2D" strokeWidth="0.858911"/>
      <Path opacity="0.4" d="M360.374 20.6642V24.0998C361.065 23.8088 361.515 23.132 361.515 22.382C361.515 21.6321 361.065 20.9552 360.374 20.6642Z" fill="#1A1B2D"/>
      <Path d="M342.337 20.3782C342.337 19.7458 342.85 19.233 343.482 19.233H356.652C357.285 19.233 357.797 19.7458 357.797 20.3782V24.3865C357.797 25.019 357.285 25.5317 356.652 25.5317H343.482C342.85 25.5317 342.337 25.019 342.337 24.3865V20.3782Z" fill="#1A1B2D"/>
      
      {/* Progress Dots */}
      {showProgressDots && (
        <>
          <Rect x="40" y="147" width="18" height="18" rx="5" fill={activeDotIndex >= 0 ? "#E7600E" : "#9B9898"} opacity={activeDotIndex >= 0 ? 1 : 0.2}/>
          <Circle cx="49" cy="156" r="3" fill="white"/>
          <Rect opacity="0.2" x="60" y="155" width="70" height="2" rx="1" fill="#9B9898"/>
          
          <Rect x="132" y="147" width="18" height="18" rx="5" fill={activeDotIndex >= 1 ? "#E7600E" : "#9B9898"} opacity={activeDotIndex >= 1 ? 1 : 0.2}/>
          <Rect opacity="0.2" x="152" y="155" width="70" height="2" rx="1" fill="#9B9898"/>
          
          <Rect x="224" y="147" width="18" height="18" rx="5" fill={activeDotIndex >= 2 ? "#E7600E" : "#9B9898"} opacity={activeDotIndex >= 2 ? 1 : 0.2}/>
          <Rect opacity="0.2" x="244" y="155" width="70" height="2" rx="1" fill="#9B9898"/>
          
          <Rect x="316" y="147" width="18" height="18" rx="5" fill={activeDotIndex >= 3 ? "#E7600E" : "#9B9898"} opacity={activeDotIndex >= 3 ? 1 : 0.2}/>
        </>
      )}
      
      {/* Gradients */}
      <Defs>
        <SvgLinearGradient id="paint0_linear_736_23956" x1="0" y1="32.4551" x2="184.606" y2="32.4551" gradientUnits="userSpaceOnUse">
          <Stop stopColor="#FB7504"/>
          <Stop offset="1" stopColor="#C2252C"/>
        </SvgLinearGradient>
      </Defs>
    </>
  );

  if (showBackground) {
    return (
      <Svg width={width} height={height} viewBox={`0 0 ${width} ${height}`} fill="none">
        {/* Background */}
        <Rect width={width} height={height} rx="12" fill="#F5F5F7"/>
        <LogoContent />
      </Svg>
    );
  }

  return (
    <Svg width={logoWidth} height={logoHeight} viewBox="0 0 185 60" fill="none">
      <LogoContent />
    </Svg>
  );
};

export default CompanyLogo;
